---
export type Props = {
  src: string;
};
const { src } = Astro.props;
---

<custom-video>
  <video src={src} autoplay loop muted controls={false}
    >Your browser can't play videos</video
  >
</custom-video>

<script>
  class Video extends HTMLElement {
    constructor() {
      super();
      let video = this.querySelector("video");
      if (video)
        video.addEventListener("contextmenu", (e) => e.preventDefault());
    }
  }
  customElements.define("custom-video", Video);
</script>

<style>
  video {
    width: 100%;
  }
  custom-video {
    margin: 2rem 0 1rem 0;
  }
</style>
